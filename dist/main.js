(()=>{"use strict";const e="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min",t=document.getElementById("language"),n=document.getElementById("insert"),o=document.getElementById("close"),a=new URLSearchParams(window.location.search),r=decodeURIComponent(a.get("text")||""),d=a.get("origin")||"*";function i(e){window.parent.postMessage(e,d)}o.addEventListener("click",(()=>{i({type:"editor.close"})})),async function(){var t,n;return await(t=`${e}/vs/loader.min.js`,new Promise(((e,n)=>{const o=document.createElement("script");o.src=t,o.onload=e,o.onerror=n,document.body.appendChild(o)}))),require.config({paths:{vs:`${e}/vs`}}),window.MonacoEnvironment={getWorkerUrl:function(t,n){return`data:text/javascript;charset=utf-8,${encodeURIComponent(`\n        self.MonacoEnvironment = {\n          baseUrl: '${e}'\n        };\n        importScripts('${e}/vs/base/worker/workerMain.js');`)}`}},await(n=["vs/editor/editor.main"],new Promise((e=>require(n,e)))),window.monaco}().then((e=>{const o=e.editor.create(document.getElementById("editor"),{value:r,language:t.value});t.disabled=!1,n.disabled=!1,t.addEventListener("change",(()=>{e.editor.setModelLanguage(o.getModel(),t.value)})),n.addEventListener("click",(()=>{i({type:"editor.insert",value:o.getValue(),syntax:t.value})})),window._editor=o})),window.parent===window&&function(){const e=document.getElementById("code");fetch("./dist/bookmarklet.js").then((e=>e.text())).then((t=>{e.textContent=`javascript:(function(){${encodeURIComponent(t)}})()`,document.body.classList.add("show-sections")})).catch(console.error)}()})();