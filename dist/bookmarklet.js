(()=>{function e(){const{activeElement:e}=document,{selectionStart:t,value:n}=e||{},o=window.getSelection().toString(),i=document.createElement("iframe"),a=new URLSearchParams;function d(){document.body.removeChild(i),window.removeEventListener("message",c)}function c(o){switch(o.data.type){case"editor.close":d();break;case"editor.insert":d(),e&&(i=o.data,e.value=n.slice(0,t)+"```"+i.syntax+"\n"+i.value+"\n```\n"+n.slice(t));break;case"editor.theme":!function(e){localStorage.setItem("monaco-theme",e.theme)}(o.data)}var i}a.append("text",encodeURIComponent(o)),a.append("origin",window.location.origin),a.append("theme",localStorage.getItem("monaco-theme")||""),i.src="https://m3g4p0p.github.io/editor-iframe/index.html?"+a.toString(),Object.assign(i.style,{position:"fixed",width:"100vw",height:"100vh",top:"0",left:"0",zIndex:"1000"}),document.body.appendChild(i),window.addEventListener("message",c)}window.createIframe=e,e()})();