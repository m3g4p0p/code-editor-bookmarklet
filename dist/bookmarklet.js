(()=>{function e(){const{activeElement:e}=document,{selectionStart:t,value:n}=e||{},i=window.getSelection().toString(),o=document.createElement("iframe");function d(){document.body.removeChild(o),window.removeEventListener("message",a)}function a(i){switch(i.data.type){case"editor.close":d();break;case"editor.insert":d(),e&&(o=i.data,e.value=n.slice(0,t)+"```"+o.syntax+"\n"+o.value+"\n```\n"+n.slice(t))}var o}o.src="https://m3g4p0p.github.io/editor-iframe/index.html?text="+encodeURIComponent(i),Object.assign(o.style,{position:"fixed",width:"100vw",height:"100vh",top:"0",left:"0",zIndex:"1000"}),document.body.appendChild(o),window.addEventListener("message",a)}window.createIframe=e,e()})();