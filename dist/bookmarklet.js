(()=>{function e(){const{activeElement:e}=document,{selectionStart:t,selectionEnd:n,value:o}=e||{},i=window.getSelection().toString(),a=document.createElement("iframe"),d=new URLSearchParams;function c(){document.body.removeChild(a),window.removeEventListener("message",r)}function r(i){switch(i.data.type){case"editor.close":c();break;case"editor.insert":c(),e&&(a=i.data,e.value=o.slice(0,t)+"```"+a.syntax+"\n"+a.value+"\n```\n"+o.slice(n));break;case"editor.theme":!function(e){localStorage.setItem("monaco-theme",e.theme)}(i.data)}var a}d.append("text",encodeURIComponent(i)),d.append("origin",window.location.origin),d.append("theme",localStorage.getItem("monaco-theme")||""),a.src="https://m3g4p0p.github.io/editor-iframe/index.html?"+d.toString(),Object.assign(a.style,{position:"fixed",width:"100vw",height:"100vh",top:"0",left:"0",zIndex:"1000"}),document.body.appendChild(a),window.addEventListener("message",r)}window.createIframe=e,e()})();